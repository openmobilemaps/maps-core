// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

package io.openmobilemaps.mapscore.kmp

import io.openmobilemaps.mapscore.shared.map.LayerInterface

actual interface KMLayerInterface
{

    actual fun setMaskingObject(maskingObject: KMMaskingObjectInterface?)

    actual fun update()

    actual fun buildRenderPasses(): ArrayList<KMRenderPassInterface>

    actual fun buildComputePasses(): ArrayList<KMComputePassInterface>

    actual fun onAdded(mapInterface: KMMapInterface, layerIndex: Int)

    actual fun onRemoved()

    actual fun pause()

    actual fun resume()

    actual fun hide()

    actual fun show()

    actual fun setAlpha(alpha: Float)

    actual fun getAlpha(): Float

    actual fun setScissorRect(scissorRect: KMRectI?)

    actual fun isReadyToRenderOffscreen(): KMLayerReadyState

    actual fun enableAnimations(enabled: Boolean)

    actual fun setErrorManager(errorManager: KMErrorManager)

    actual fun forceReload()

    actual fun setPrimaryRenderTarget(target: KMRenderTargetInterface?)
}

private class KMLayerInterfacePlatformWrapper(internal val nativeHandle: LayerInterface) : KMLayerInterface
{

    override fun setMaskingObject(maskingObject: KMMaskingObjectInterface?) {
        nativeHandle.setMaskingObject(maskingObject?.let { it.asPlatform() })
    }

    override fun update() {
        nativeHandle.update()
    }

    override fun buildRenderPasses(): ArrayList<KMRenderPassInterface> {
        val result = nativeHandle.buildRenderPasses()
        return ArrayList(result.map { requireNotNull((it as io.openmobilemaps.mapscore.shared.graphics.RenderPassInterface)).asKmp() })
    }

    override fun buildComputePasses(): ArrayList<KMComputePassInterface> {
        val result = nativeHandle.buildComputePasses()
        return ArrayList(result.map { requireNotNull((it as io.openmobilemaps.mapscore.shared.graphics.ComputePassInterface)).asKmp() })
    }

    override fun onAdded(mapInterface: KMMapInterface, layerIndex: Int) {
        nativeHandle.onAdded(mapInterface.asPlatform(), layerIndex)
    }

    override fun onRemoved() {
        nativeHandle.onRemoved()
    }

    override fun pause() {
        nativeHandle.pause()
    }

    override fun resume() {
        nativeHandle.resume()
    }

    override fun hide() {
        nativeHandle.hide()
    }

    override fun show() {
        nativeHandle.show()
    }

    override fun setAlpha(alpha: Float) {
        nativeHandle.setAlpha(alpha)
    }

    override fun getAlpha(): Float {
        val result = nativeHandle.getAlpha()
        return result
    }

    override fun setScissorRect(scissorRect: KMRectI?) {
        nativeHandle.setScissorRect(scissorRect?.let { it.asPlatform() })
    }

    override fun isReadyToRenderOffscreen(): KMLayerReadyState {
        val result = nativeHandle.isReadyToRenderOffscreen()
        return (result as io.openmobilemaps.mapscore.shared.map.LayerReadyState).asKmp()
    }

    override fun enableAnimations(enabled: Boolean) {
        nativeHandle.enableAnimations(enabled)
    }

    override fun setErrorManager(errorManager: KMErrorManager) {
        nativeHandle.setErrorManager(errorManager.asPlatform())
    }

    override fun forceReload() {
        nativeHandle.forceReload()
    }

    override fun setPrimaryRenderTarget(target: KMRenderTargetInterface?) {
        nativeHandle.setPrimaryRenderTarget(target?.let { it.asPlatform() })
    }
}

private class KMLayerInterfacePlatformProxy(private val delegate: KMLayerInterface) : LayerInterface()
{

    override fun setMaskingObject(maskingObject: io.openmobilemaps.mapscore.shared.graphics.objects.MaskingObjectInterface?) {
        delegate.setMaskingObject(maskingObject?.let { requireNotNull((it as io.openmobilemaps.mapscore.shared.graphics.objects.MaskingObjectInterface)).asKmp() })
    }

    override fun update() {
        delegate.update()
    }

    override fun buildRenderPasses(): ArrayList<io.openmobilemaps.mapscore.shared.graphics.RenderPassInterface> {
        val result = delegate.buildRenderPasses()
        return ArrayList(result.map { it.asPlatform() })
    }

    override fun buildComputePasses(): ArrayList<io.openmobilemaps.mapscore.shared.graphics.ComputePassInterface> {
        val result = delegate.buildComputePasses()
        return ArrayList(result.map { it.asPlatform() })
    }

    override fun onAdded(mapInterface: io.openmobilemaps.mapscore.shared.map.MapInterface, layerIndex: Int) {
        delegate.onAdded(requireNotNull((mapInterface as io.openmobilemaps.mapscore.shared.map.MapInterface)).asKmp(), layerIndex)
    }

    override fun onRemoved() {
        delegate.onRemoved()
    }

    override fun pause() {
        delegate.pause()
    }

    override fun resume() {
        delegate.resume()
    }

    override fun hide() {
        delegate.hide()
    }

    override fun show() {
        delegate.show()
    }

    override fun setAlpha(alpha: Float) {
        delegate.setAlpha(alpha)
    }

    override fun getAlpha(): Float {
        val result = delegate.getAlpha()
        return result
    }

    override fun setScissorRect(scissorRect: io.openmobilemaps.mapscore.shared.graphics.common.RectI?) {
        delegate.setScissorRect(scissorRect?.let { (it as io.openmobilemaps.mapscore.shared.graphics.common.RectI).asKmp() })
    }

    override fun isReadyToRenderOffscreen(): io.openmobilemaps.mapscore.shared.map.LayerReadyState {
        val result = delegate.isReadyToRenderOffscreen()
        return result.asPlatform()
    }

    override fun enableAnimations(enabled: Boolean) {
        delegate.enableAnimations(enabled)
    }

    override fun setErrorManager(errorManager: io.openmobilemaps.mapscore.shared.map.ErrorManager) {
        delegate.setErrorManager(requireNotNull((errorManager as io.openmobilemaps.mapscore.shared.map.ErrorManager)).asKmp())
    }

    override fun forceReload() {
        delegate.forceReload()
    }

    override fun setPrimaryRenderTarget(target: io.openmobilemaps.mapscore.shared.graphics.RenderTargetInterface?) {
        delegate.setPrimaryRenderTarget(target?.let { requireNotNull((it as io.openmobilemaps.mapscore.shared.graphics.RenderTargetInterface)).asKmp() })
    }
}

internal fun KMLayerInterface.asPlatform(): LayerInterface = when (this) {
    is KMLayerInterfacePlatformWrapper -> this.nativeHandle
    else -> KMLayerInterfacePlatformProxy(this)
}
internal fun LayerInterface.asKmp(): KMLayerInterface = KMLayerInterfacePlatformWrapper(this)
