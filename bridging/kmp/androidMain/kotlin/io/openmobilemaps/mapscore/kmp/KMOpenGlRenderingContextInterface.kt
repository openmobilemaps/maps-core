// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

package io.openmobilemaps.mapscore.kmp

import io.openmobilemaps.mapscore.shared.graphics.OpenGlRenderingContextInterface

actual interface KMOpenGlRenderingContextInterface
{

    actual fun resume()

    actual fun pause()

    actual fun getCreateRenderTarget(name: String, textureFilter: KMTextureFilterType, clearColor: KMColor, usesDepthStencil: Boolean): KMOpenGlRenderTargetInterface

    actual fun deleteRenderTarget(name: String)

    actual fun getRenderTargets(): ArrayList<KMOpenGlRenderTargetInterface>

    actual fun getProgram(name: String): Int

    actual fun storeProgram(name: String, program: Int)

    actual fun getAspectRatio(): Float

    actual fun getDeltaTimeMs(): Long
}

private class KMOpenGlRenderingContextInterfacePlatformWrapper(internal val nativeHandle: OpenGlRenderingContextInterface) : KMOpenGlRenderingContextInterface
{

    override fun resume() {
        nativeHandle.resume()
    }

    override fun pause() {
        nativeHandle.pause()
    }

    override fun getCreateRenderTarget(name: String, textureFilter: KMTextureFilterType, clearColor: KMColor, usesDepthStencil: Boolean): KMOpenGlRenderTargetInterface {
        val result = nativeHandle.getCreateRenderTarget(name, textureFilter.asPlatform(), clearColor.asPlatform(), usesDepthStencil)
        return requireNotNull((result as io.openmobilemaps.mapscore.shared.graphics.OpenGlRenderTargetInterface)).asKmp()
    }

    override fun deleteRenderTarget(name: String) {
        nativeHandle.deleteRenderTarget(name)
    }

    override fun getRenderTargets(): ArrayList<KMOpenGlRenderTargetInterface> {
        val result = nativeHandle.getRenderTargets()
        return ArrayList(result.map { requireNotNull((it as io.openmobilemaps.mapscore.shared.graphics.OpenGlRenderTargetInterface)).asKmp() })
    }

    override fun getProgram(name: String): Int {
        val result = nativeHandle.getProgram(name)
        return result
    }

    override fun storeProgram(name: String, program: Int) {
        nativeHandle.storeProgram(name, program)
    }

    override fun getAspectRatio(): Float {
        val result = nativeHandle.getAspectRatio()
        return result
    }

    override fun getDeltaTimeMs(): Long {
        val result = nativeHandle.getDeltaTimeMs()
        return result
    }
}

private class KMOpenGlRenderingContextInterfacePlatformProxy(private val delegate: KMOpenGlRenderingContextInterface) : OpenGlRenderingContextInterface()
{

    override fun resume() {
        delegate.resume()
    }

    override fun pause() {
        delegate.pause()
    }

    override fun getCreateRenderTarget(name: String, textureFilter: io.openmobilemaps.mapscore.shared.graphics.objects.TextureFilterType, clearColor: io.openmobilemaps.mapscore.shared.graphics.common.Color, usesDepthStencil: Boolean): io.openmobilemaps.mapscore.shared.graphics.OpenGlRenderTargetInterface {
        val result = delegate.getCreateRenderTarget(name, (textureFilter as io.openmobilemaps.mapscore.shared.graphics.objects.TextureFilterType).asKmp(), (clearColor as io.openmobilemaps.mapscore.shared.graphics.common.Color).asKmp(), usesDepthStencil)
        return result.asPlatform()
    }

    override fun deleteRenderTarget(name: String) {
        delegate.deleteRenderTarget(name)
    }

    override fun getRenderTargets(): ArrayList<io.openmobilemaps.mapscore.shared.graphics.OpenGlRenderTargetInterface> {
        val result = delegate.getRenderTargets()
        return ArrayList(result.map { it.asPlatform() })
    }

    override fun getProgram(name: String): Int {
        val result = delegate.getProgram(name)
        return result
    }

    override fun storeProgram(name: String, program: Int) {
        delegate.storeProgram(name, program)
    }

    override fun getAspectRatio(): Float {
        val result = delegate.getAspectRatio()
        return result
    }

    override fun getDeltaTimeMs(): Long {
        val result = delegate.getDeltaTimeMs()
        return result
    }
}

internal fun KMOpenGlRenderingContextInterface.asPlatform(): OpenGlRenderingContextInterface = when (this) {
    is KMOpenGlRenderingContextInterfacePlatformWrapper -> this.nativeHandle
    else -> KMOpenGlRenderingContextInterfacePlatformProxy(this)
}
internal fun OpenGlRenderingContextInterface.asKmp(): KMOpenGlRenderingContextInterface = KMOpenGlRenderingContextInterfacePlatformWrapper(this)
