// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from loader.djinni

package io.openmobilemaps.mapscore.kmp

actual interface KMLoaderInterface
{

    actual fun loadTexture(url: String, etag: String?): KMTextureLoaderResult

    actual fun loadData(url: String, etag: String?): KMDataLoaderResult

    actual fun loadTextureAsync(url: String, etag: String?): KMFuture<KMTextureLoaderResult>

    actual fun loadDataAsync(url: String, etag: String?): KMFuture<KMDataLoaderResult>

    actual fun cancel(url: String)
}

private class KMLoaderInterfacePlatformWrapper(internal val nativeHandle: io.openmobilemaps.mapscore.shared.map.loader.LoaderInterface) : KMLoaderInterface
{

    override fun loadTexture(url: String, etag: String?): KMTextureLoaderResult {
        val result = nativeHandle.loadTexture(url, etag?.let { it })
        return (result as io.openmobilemaps.mapscore.shared.map.loader.TextureLoaderResult).asKmp()
    }

    override fun loadData(url: String, etag: String?): KMDataLoaderResult {
        val result = nativeHandle.loadData(url, etag?.let { it })
        return (result as io.openmobilemaps.mapscore.shared.map.loader.DataLoaderResult).asKmp()
    }

    override fun loadTextureAsync(url: String, etag: String?): KMFuture<KMTextureLoaderResult> {
        val result = nativeHandle.loadTextureAsync(url, etag?.let { it })
        return (result as com.snapchat.djinni.Future<io.openmobilemaps.mapscore.shared.map.loader.TextureLoaderResult>).asKmp()
    }

    override fun loadDataAsync(url: String, etag: String?): KMFuture<KMDataLoaderResult> {
        val result = nativeHandle.loadDataAsync(url, etag?.let { it })
        return (result as com.snapchat.djinni.Future<io.openmobilemaps.mapscore.shared.map.loader.DataLoaderResult>).asKmp()
    }

    override fun cancel(url: String) {
        nativeHandle.cancel(url)
    }
}

private class KMLoaderInterfacePlatformProxy(private val delegate: KMLoaderInterface) : io.openmobilemaps.mapscore.shared.map.loader.LoaderInterface()
{

    override fun loadTexture(url: String, etag: String?): io.openmobilemaps.mapscore.shared.map.loader.TextureLoaderResult {
        val result = delegate.loadTexture(url, etag?.let { it })
        return result.asPlatform()
    }

    override fun loadData(url: String, etag: String?): io.openmobilemaps.mapscore.shared.map.loader.DataLoaderResult {
        val result = delegate.loadData(url, etag?.let { it })
        return result.asPlatform()
    }

    override fun loadTextureAsync(url: String, etag: String?): com.snapchat.djinni.Future<io.openmobilemaps.mapscore.shared.map.loader.TextureLoaderResult> {
        val result = delegate.loadTextureAsync(url, etag?.let { it })
        return result.asPlatform()
    }

    override fun loadDataAsync(url: String, etag: String?): com.snapchat.djinni.Future<io.openmobilemaps.mapscore.shared.map.loader.DataLoaderResult> {
        val result = delegate.loadDataAsync(url, etag?.let { it })
        return result.asPlatform()
    }

    override fun cancel(url: String) {
        delegate.cancel(url)
    }
}

internal fun KMLoaderInterface.asPlatform(): io.openmobilemaps.mapscore.shared.map.loader.LoaderInterface = when (this) {
    is KMLoaderInterfacePlatformWrapper -> this.nativeHandle
    else -> KMLoaderInterfacePlatformProxy(this)
}
internal fun io.openmobilemaps.mapscore.shared.map.loader.LoaderInterface.asKmp(): KMLoaderInterface = KMLoaderInterfacePlatformWrapper(this)
