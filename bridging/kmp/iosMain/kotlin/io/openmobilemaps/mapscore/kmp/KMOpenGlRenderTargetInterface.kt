// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

@file:Suppress("RedundantCast", "RedundantCallOfConversionMethod", "USELESS_CAST")

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMOpenGlRenderTargetInterface", exact = true)
actual interface KMOpenGlRenderTargetInterface
{

    actual fun asRenderTargetInterface(): KMRenderTargetInterface

    actual fun setup(size: KMVec2I)

    actual fun clear()

    actual fun bindFramebuffer(renderingContext: KMRenderingContextInterface)

    actual fun unbindFramebuffer()

    actual fun getTextureId(): Int
}

private class KMOpenGlRenderTargetInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCOpenGlRenderTargetInterfaceProtocol) : KMOpenGlRenderTargetInterface
{

    override fun asRenderTargetInterface(): KMRenderTargetInterface {
        val result = nativeHandle.asRenderTargetInterface()
        return (result as MapCoreSharedModule.MCRenderTargetInterfaceProtocol).asKmp()
    }

    override fun setup(size: KMVec2I) {
        nativeHandle.setup(size.asPlatform())
    }

    override fun clear() {
        nativeHandle.clear()
    }

    override fun bindFramebuffer(renderingContext: KMRenderingContextInterface) {
        nativeHandle.bindFramebuffer(renderingContext.asPlatform())
    }

    override fun unbindFramebuffer() {
        nativeHandle.unbindFramebuffer()
    }

    override fun getTextureId(): Int {
        val result = nativeHandle.getTextureId()
        return result
    }
}

private class KMOpenGlRenderTargetInterfacePlatformProxy(private val delegate: KMOpenGlRenderTargetInterface) : NSObject(), MapCoreSharedModule.MCOpenGlRenderTargetInterfaceProtocol
{

    override fun asRenderTargetInterface(): MapCoreSharedModule.MCRenderTargetInterfaceProtocol? {
        val result = delegate.asRenderTargetInterface()
        return result.asPlatform()
    }

    override fun setup(size: MapCoreSharedModule.MCVec2I) {
        delegate.setup((size as MapCoreSharedModule.MCVec2I).asKmp())
    }

    override fun clear() {
        delegate.clear()
    }

    override fun bindFramebuffer(renderingContext: MapCoreSharedModule.MCRenderingContextInterfaceProtocol?) {
        delegate.bindFramebuffer((renderingContext as MapCoreSharedModule.MCRenderingContextInterfaceProtocol).asKmp())
    }

    override fun unbindFramebuffer() {
        delegate.unbindFramebuffer()
    }

    override fun getTextureId(): Int {
        val result = delegate.getTextureId()
        return result
    }
}

internal fun KMOpenGlRenderTargetInterface.asPlatform(): MapCoreSharedModule.MCOpenGlRenderTargetInterfaceProtocol = when (this) {
    is KMOpenGlRenderTargetInterfacePlatformWrapper -> this.nativeHandle
    else -> KMOpenGlRenderTargetInterfacePlatformProxy(this)
}
public fun MapCoreSharedModule.MCOpenGlRenderTargetInterfaceProtocol.asKmp(): KMOpenGlRenderTargetInterface = KMOpenGlRenderTargetInterfacePlatformWrapper(this)
