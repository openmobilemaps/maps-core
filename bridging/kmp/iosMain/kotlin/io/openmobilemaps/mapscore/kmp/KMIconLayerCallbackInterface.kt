// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from icon.djinni

@file:Suppress("RedundantCast", "RedundantCallOfConversionMethod", "USELESS_CAST")

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMIconLayerCallbackInterface", exact = true)
actual interface KMIconLayerCallbackInterface
{

    actual fun onClickConfirmed(icons: ArrayList<KMIconInfoInterface>): Boolean

    actual fun onLongPress(icons: ArrayList<KMIconInfoInterface>): Boolean
}

private class KMIconLayerCallbackInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCIconLayerCallbackInterfaceProtocol) : KMIconLayerCallbackInterface
{

    override fun onClickConfirmed(icons: ArrayList<KMIconInfoInterface>): Boolean {
        val result = nativeHandle.onClickConfirmed(ArrayList(icons.map { it.asPlatform() }))
        return result
    }

    override fun onLongPress(icons: ArrayList<KMIconInfoInterface>): Boolean {
        val result = nativeHandle.onLongPress(ArrayList(icons.map { it.asPlatform() }))
        return result
    }
}

private class KMIconLayerCallbackInterfacePlatformProxy(private val delegate: KMIconLayerCallbackInterface) : NSObject(), MapCoreSharedModule.MCIconLayerCallbackInterfaceProtocol
{

    override fun onClickConfirmed(icons: List<*>): Boolean {
        val result = delegate.onClickConfirmed(ArrayList(((icons as? List<*>)?.map { (it as MapCoreSharedModule.MCIconInfoInterface).asKmp() } ?: (0 until (icons as platform.Foundation.NSArray).count.toInt()).map { idx -> ((icons as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCIconInfoInterface).asKmp() })))
        return result
    }

    override fun onLongPress(icons: List<*>): Boolean {
        val result = delegate.onLongPress(ArrayList(((icons as? List<*>)?.map { (it as MapCoreSharedModule.MCIconInfoInterface).asKmp() } ?: (0 until (icons as platform.Foundation.NSArray).count.toInt()).map { idx -> ((icons as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCIconInfoInterface).asKmp() })))
        return result
    }
}

internal fun KMIconLayerCallbackInterface.asPlatform(): MapCoreSharedModule.MCIconLayerCallbackInterfaceProtocol = when (this) {
    is KMIconLayerCallbackInterfacePlatformWrapper -> this.nativeHandle
    else -> KMIconLayerCallbackInterfacePlatformProxy(this)
}
public fun MapCoreSharedModule.MCIconLayerCallbackInterfaceProtocol.asKmp(): KMIconLayerCallbackInterface = KMIconLayerCallbackInterfacePlatformWrapper(this)
