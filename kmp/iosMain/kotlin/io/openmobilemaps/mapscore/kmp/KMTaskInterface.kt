// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from task_scheduler.djinni

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMTaskInterface", exact = true)
actual interface KMTaskInterface
{

    actual fun getConfig(): KMTaskConfig

    actual fun run()
}

private class KMTaskInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCTaskInterfaceProtocol) : KMTaskInterface
{

    override fun getConfig(): KMTaskConfig {
        val result = nativeHandle.getConfig()
        return (result as MapCoreSharedModule.MCTaskConfig).asKmp()
    }

    override fun run() {
        nativeHandle.run()
    }
}

private class KMTaskInterfacePlatformProxy(private val delegate: KMTaskInterface) : NSObject(), MapCoreSharedModule.MCTaskInterfaceProtocol
{

    override fun getConfig(): MapCoreSharedModule.MCTaskConfig {
        val result = delegate.getConfig()
        return result.asPlatform()
    }

    override fun run() {
        delegate.run()
    }
}

internal fun KMTaskInterface.asPlatform(): MapCoreSharedModule.MCTaskInterfaceProtocol = when (this) {
    is KMTaskInterfacePlatformWrapper -> this.nativeHandle
    else -> KMTaskInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCTaskInterfaceProtocol.asKmp(): KMTaskInterface = KMTaskInterfacePlatformWrapper(this)
