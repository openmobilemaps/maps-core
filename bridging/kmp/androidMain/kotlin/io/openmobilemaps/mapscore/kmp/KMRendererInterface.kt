// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

package io.openmobilemaps.mapscore.kmp

import io.openmobilemaps.mapscore.shared.graphics.RendererInterface

actual interface KMRendererInterface
{

    actual fun addToRenderQueue(renderPass: KMRenderPassInterface)

    actual fun addToComputeQueue(computePass: KMComputePassInterface)

    actual fun drawFrame(renderingContext: KMRenderingContextInterface, camera: KMCameraInterface, target: KMRenderTargetInterface?)

    actual fun compute(renderingContext: KMRenderingContextInterface, camera: KMCameraInterface)
}

private class KMRendererInterfacePlatformWrapper(internal val nativeHandle: RendererInterface) : KMRendererInterface
{

    override fun addToRenderQueue(renderPass: KMRenderPassInterface) {
        nativeHandle.addToRenderQueue(renderPass.asPlatform())
    }

    override fun addToComputeQueue(computePass: KMComputePassInterface) {
        nativeHandle.addToComputeQueue(computePass.asPlatform())
    }

    override fun drawFrame(renderingContext: KMRenderingContextInterface, camera: KMCameraInterface, target: KMRenderTargetInterface?) {
        nativeHandle.drawFrame(renderingContext.asPlatform(), camera.asPlatform(), target?.let { it.asPlatform() })
    }

    override fun compute(renderingContext: KMRenderingContextInterface, camera: KMCameraInterface) {
        nativeHandle.compute(renderingContext.asPlatform(), camera.asPlatform())
    }
}

private class KMRendererInterfacePlatformProxy(private val delegate: KMRendererInterface) : RendererInterface()
{

    override fun addToRenderQueue(renderPass: io.openmobilemaps.mapscore.shared.graphics.RenderPassInterface) {
        delegate.addToRenderQueue((renderPass as io.openmobilemaps.mapscore.shared.graphics.RenderPassInterface).asKmp())
    }

    override fun addToComputeQueue(computePass: io.openmobilemaps.mapscore.shared.graphics.ComputePassInterface) {
        delegate.addToComputeQueue((computePass as io.openmobilemaps.mapscore.shared.graphics.ComputePassInterface).asKmp())
    }

    override fun drawFrame(renderingContext: io.openmobilemaps.mapscore.shared.graphics.RenderingContextInterface, camera: io.openmobilemaps.mapscore.shared.graphics.CameraInterface, target: io.openmobilemaps.mapscore.shared.graphics.RenderTargetInterface?) {
        delegate.drawFrame((renderingContext as io.openmobilemaps.mapscore.shared.graphics.RenderingContextInterface).asKmp(), (camera as io.openmobilemaps.mapscore.shared.graphics.CameraInterface).asKmp(), target?.let { (it as io.openmobilemaps.mapscore.shared.graphics.RenderTargetInterface).asKmp() })
    }

    override fun compute(renderingContext: io.openmobilemaps.mapscore.shared.graphics.RenderingContextInterface, camera: io.openmobilemaps.mapscore.shared.graphics.CameraInterface) {
        delegate.compute((renderingContext as io.openmobilemaps.mapscore.shared.graphics.RenderingContextInterface).asKmp(), (camera as io.openmobilemaps.mapscore.shared.graphics.CameraInterface).asKmp())
    }
}

internal fun KMRendererInterface.asPlatform(): RendererInterface = when (this) {
    is KMRendererInterfacePlatformWrapper -> this.nativeHandle
    else -> KMRendererInterfacePlatformProxy(this)
}
public fun RendererInterface.asKmp(): KMRendererInterface = KMRendererInterfacePlatformWrapper(this)
