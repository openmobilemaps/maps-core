// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from task_scheduler.djinni

package io.openmobilemaps.mapscore.kmp

import io.openmobilemaps.mapscore.shared.map.scheduling.TaskInterface

actual interface KMTaskInterface
{

    actual fun getConfig(): KMTaskConfig

    actual fun run()
}

private class KMTaskInterfacePlatformWrapper(internal val nativeHandle: TaskInterface) : KMTaskInterface
{

    override fun getConfig(): KMTaskConfig {
        val result = nativeHandle.getConfig()
        return (result as io.openmobilemaps.mapscore.shared.map.scheduling.TaskConfig).asKmp()
    }

    override fun run() {
        nativeHandle.run()
    }
}

private class KMTaskInterfacePlatformProxy(private val delegate: KMTaskInterface) : TaskInterface()
{

    override fun getConfig(): io.openmobilemaps.mapscore.shared.map.scheduling.TaskConfig {
        val result = delegate.getConfig()
        return result.asPlatform()
    }

    override fun run() {
        delegate.run()
    }
}

internal fun KMTaskInterface.asPlatform(): TaskInterface = when (this) {
    is KMTaskInterfacePlatformWrapper -> this.nativeHandle
    else -> KMTaskInterfacePlatformProxy(this)
}
public fun TaskInterface.asKmp(): KMTaskInterface = KMTaskInterfacePlatformWrapper(this)
