// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from map_helpers.djinni

@file:Suppress("RedundantCast", "RedundantCallOfConversionMethod", "USELESS_CAST")

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMErrorManagerListener", exact = true)
actual interface KMErrorManagerListener
{

    actual fun onTiledLayerErrorStateChanged(errors: ArrayList<KMTiledLayerError>)
}

private class KMErrorManagerListenerPlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCErrorManagerListenerProtocol) : KMErrorManagerListener
{

    override fun onTiledLayerErrorStateChanged(errors: ArrayList<KMTiledLayerError>) {
        nativeHandle.onTiledLayerErrorStateChanged(ArrayList(errors.map { it.asPlatform() }))
    }
}

private class KMErrorManagerListenerPlatformProxy(private val delegate: KMErrorManagerListener) : NSObject(), MapCoreSharedModule.MCErrorManagerListenerProtocol
{

    override fun onTiledLayerErrorStateChanged(errors: List<*>) {
        delegate.onTiledLayerErrorStateChanged(ArrayList(((errors as? List<*>)?.map { (it as MapCoreSharedModule.MCTiledLayerError).asKmp() } ?: (0 until (errors as platform.Foundation.NSArray).count.toInt()).map { idx -> ((errors as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCTiledLayerError).asKmp() })))
    }
}

internal fun KMErrorManagerListener.asPlatform(): MapCoreSharedModule.MCErrorManagerListenerProtocol = when (this) {
    is KMErrorManagerListenerPlatformWrapper -> this.nativeHandle
    else -> KMErrorManagerListenerPlatformProxy(this)
}
public fun MapCoreSharedModule.MCErrorManagerListenerProtocol.asKmp(): KMErrorManagerListener = KMErrorManagerListenerPlatformWrapper(this)
