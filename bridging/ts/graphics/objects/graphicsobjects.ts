// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from graphicsobjects.djinni

import type { Quad2dD, Quad3dD, RectD, SharedBytes, Vec2D, Vec2F, Vec3D } from "@djinni/maps-core/graphics/common/common"
import type { RenderPassConfig, RenderingContextInterface } from "@djinni/maps-core/graphics/core"
import type { FontData } from "@djinni/maps-core/map/loader/loader"
import type { ShaderProgramInterface } from "@djinni/maps-core/graphics/shader/shader"

export interface GraphicsObjectInterface {
    /** Returns true, if graphics object is ready to be drawn */
    isReady(): boolean;
    /** Ensure calling on graphics thread */
    setup(context: RenderingContextInterface): void;
    /** Clear graphics object and invalidate isReady */
    clear(): void;
    /**
     * by defaults objects if masked are only rendered where the mask is set
     * if setting this flag the masked is applied inversly
     */
    setIsInverseMasked(inversed: boolean): void;
    setDebugLabel(label: string): void;
    /** Render the graphics object; ensure calling on graphics thread */
    render(context: RenderingContextInterface, renderPass: RenderPassConfig, vpMatrix: bigint, mMatrix: bigint, origin: Vec3D, isMasked: boolean, screenPixelAsRealMeterFactor: number, isScreenSpaceCoords: boolean): void;
}

export interface MaskingObjectInterface {
    asGraphicsObject(): GraphicsObjectInterface;
    renderAsMask(context: RenderingContextInterface, renderPass: RenderPassConfig, vpMatrix: bigint, mMatrix: bigint, origin: Vec3D, screenPixelAsRealMeterFactor: number, isScreenSpaceCoords: boolean): void;
}

export interface ComputeObjectInterface {
    compute(context: RenderingContextInterface, vpMatrix: bigint, origin: Vec3D, screenPixelAsRealMeterFactor: number): void;
}

export interface GraphicsObjectFactoryInterface {
    createQuad(shader: ShaderProgramInterface): Quad2dInterface;
    createPolygon(shader: ShaderProgramInterface): Polygon2dInterface;
    createIcosahedronObject(shader: ShaderProgramInterface): IcosahedronInterface;
    createQuadInstanced(shader: ShaderProgramInterface): Quad2dInstancedInterface;
    createQuadStretchedInstanced(shader: ShaderProgramInterface): Quad2dStretchedInstancedInterface;
    createLineGroup(shader: ShaderProgramInterface): LineGroup2dInterface;
    createPolygonGroup(shader: ShaderProgramInterface): PolygonGroup2dInterface;
    createPolygonPatternGroup(shader: ShaderProgramInterface): PolygonPatternGroup2dInterface;
    createQuadMask(is3d: boolean): Quad2dInterface;
    createPolygonMask(is3d: boolean): Polygon2dInterface;
    createText(shader: ShaderProgramInterface): TextInterface;
    createTextInstanced(shader: ShaderProgramInterface): TextInstancedInterface;
}

export interface Quad2dInterface {
    setFrame(frame: Quad3dD, textureCoordinates: RectD, origin: Vec3D, is3d: boolean): void;
    setSubdivisionFactor(factor: number): void;
    setMinMagFilter(filterType: TextureFilterType): void;
    loadTexture(context: RenderingContextInterface, textureHolder: TextureHolderInterface): void;
    removeTexture(): void;
    asGraphicsObject(): GraphicsObjectInterface;
    asMaskingObject(): MaskingObjectInterface;
}

export interface Quad2dInstancedInterface {
    setFrame(frame: Quad2dD, origin: Vec3D, is3d: boolean): void;
    setInstanceCount(count: number): void;
    setPositions(positions: SharedBytes): void;
    setScales(scales: SharedBytes): void;
    setRotations(rotations: SharedBytes): void;
    setAlphas(values: SharedBytes): void;
    setTextureCoordinates(textureCoordinates: SharedBytes): void;
    /**
     * 2 floats (x and y) for each instance
     * defines the offset applied to the projected position in viewspace coordinates
     */
    setPositionOffset(offsets: SharedBytes): void;
    loadTexture(context: RenderingContextInterface, textureHolder: TextureHolderInterface): void;
    removeTexture(): void;
    asGraphicsObject(): GraphicsObjectInterface;
    asMaskingObject(): MaskingObjectInterface;
}

export interface Quad2dStretchedInstancedInterface {
    setFrame(frame: Quad2dD, origin: Vec3D, is3d: boolean): void;
    setInstanceCount(count: number): void;
    setPositions(positions: SharedBytes): void;
    setScales(scales: SharedBytes): void;
    setRotations(rotations: SharedBytes): void;
    setAlphas(values: SharedBytes): void;
    /**
     * stretch infos consists of:
     * scaleX: f32;
     *  all stretch infos are between 0 and 1
     * stretchX0Begin: f32;
     * stretchX0End: f32;
     * stretchX1Begin: f32;
     * stretchX1End: f32;
     * scaleY: f32;
     * stretchY0Begin: f32;
     * stretchY0End: f32;
     * stretchY1Begin: f32;
     * stretchY1End: f32;
     * so a total of 10 floats for each instance
     */
    setStretchInfos(values: SharedBytes): void;
    setTextureCoordinates(textureCoordinates: SharedBytes): void;
    loadTexture(context: RenderingContextInterface, textureHolder: TextureHolderInterface): void;
    removeTexture(): void;
    asGraphicsObject(): GraphicsObjectInterface;
    asMaskingObject(): MaskingObjectInterface;
}

export interface /*record*/ RenderLineDescription {
    positions: Array<Vec2D>;
    styleIndex: number;
}

export interface LineGroup2dInterface {
    setLines(lines: SharedBytes, indices: SharedBytes, origin: Vec3D, is3d: boolean): void;
    asGraphicsObject(): GraphicsObjectInterface;
}

export interface Polygon2dInterface {
    setVertices(vertices: SharedBytes, indices: SharedBytes, origin: Vec3D): void;
    asGraphicsObject(): GraphicsObjectInterface;
    asMaskingObject(): MaskingObjectInterface;
}

export interface /*record*/ RenderVerticesDescription {
    vertices: Array<Vec2D>;
    styleIndex: number;
}

export interface PolygonGroup2dInterface {
    setVertices(vertices: SharedBytes, indices: SharedBytes, origin: Vec3D): void;
    asGraphicsObject(): GraphicsObjectInterface;
}

export interface PolygonPatternGroup2dInterface {
    setVertices(vertices: SharedBytes, indices: SharedBytes, origin: Vec3D): void;
    setOpacities(values: SharedBytes): void;
    /** 4 floats (x, y, width and height) in uv space and 2 uint_16 values for the pixel with and height for each instanced */
    setTextureCoordinates(values: SharedBytes): void;
    setScalingFactor(factor: number): void;
    setScalingFactors(factor: Vec2F): void;
    loadTexture(context: RenderingContextInterface, textureHolder: TextureHolderInterface): void;
    removeTexture(): void;
    asGraphicsObject(): GraphicsObjectInterface;
}

export interface TextureHolderInterface {
    getImageWidth(): number;
    getImageHeight(): number;
    getTextureWidth(): number;
    getTextureHeight(): number;
    attachToGraphics(): number;
    clearFromGraphics(): void;
}

export enum TextureFilterType {
    NEAREST = 0,
    LINEAR = 1,
}

export interface TextInterface {
    setTextsShared(vertices: SharedBytes, indices: SharedBytes): void;
    loadTexture(context: RenderingContextInterface, textureHolder: TextureHolderInterface): void;
    removeTexture(): void;
    asGraphicsObject(): GraphicsObjectInterface;
}

export interface TextInstancedInterface {
    /** set the frame of the root object */
    setFrame(frame: Quad2dD, origin: Vec3D, is3d: boolean): void;
    setInstanceCount(count: number): void;
    /** 2 floats (x and y) for each instance */
    setPositions(positions: SharedBytes): void;
    /** 2 floats (x and y) for each instance */
    setReferencePositions(positions: SharedBytes): void;
    /** 4 floats (x, y, width and height) for each instanced */
    setTextureCoordinates(textureCoordinates: SharedBytes): void;
    /** 2 floats for width and height scale for each instance */
    setScales(scales: SharedBytes): void;
    /** one float for each instance in degree */
    setRotations(rotations: SharedBytes): void;
    /** one float for each instance */
    setAlphas(alphas: SharedBytes): void;
    /** one uint16 for each instance */
    setStyleIndices(indices: SharedBytes): void;
    /**
     * a style contains of:
     * color RGBA
     * halo-color RGBA
     * halo=width
     * so a total of 9 floats for each style
     */
    setStyles(values: SharedBytes): void;
    loadFont(context: RenderingContextInterface, fontData: FontData, fontMsdfTexture: TextureHolderInterface): void;
    removeTexture(): void;
    asGraphicsObject(): GraphicsObjectInterface;
}

export interface /*record*/ TextDescription {
    glyphs: Array<GlyphDescription>;
}

export interface /*record*/ GlyphDescription {
    frame: Quad2dD;
    textureCoordinates: Quad2dD;
}

export interface IcosahedronInterface {
    setVertices(vertices: SharedBytes, indices: SharedBytes, origin: Vec3D): void;
    asGraphicsObject(): GraphicsObjectInterface;
}

export interface Graphicsobjects_statics {
}
