// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMRenderObjectInterface", exact = true)
actual interface KMRenderObjectInterface
{

    actual fun getGraphicsObject(): KMGraphicsObjectInterface

    actual fun hasCustomModelMatrix(): Boolean

    actual fun isScreenSpaceCoords(): Boolean

    actual fun getCustomModelMatrix(): ArrayList<Float>

    actual fun setHidden(hidden: Boolean)

    actual fun isHidden(): Boolean
}

private class KMRenderObjectInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCRenderObjectInterfaceProtocol) : KMRenderObjectInterface
{

    override fun getGraphicsObject(): KMGraphicsObjectInterface {
        val result = nativeHandle.getGraphicsObject()
        return requireNotNull((result as MapCoreSharedModule.MCGraphicsObjectInterfaceProtocol)).asKmp()
    }

    override fun hasCustomModelMatrix(): Boolean {
        val result = nativeHandle.hasCustomModelMatrix()
        return result
    }

    override fun isScreenSpaceCoords(): Boolean {
        val result = nativeHandle.isScreenSpaceCoords()
        return result
    }

    override fun getCustomModelMatrix(): ArrayList<Float> {
        val result = nativeHandle.getCustomModelMatrix()
        return ArrayList(((result as? List<*>)?.map { (it as platform.Foundation.NSNumber).floatValue } ?: (0 until (result as platform.Foundation.NSArray).count.toInt()).map { idx -> ((result as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as platform.Foundation.NSNumber).floatValue }))
    }

    override fun setHidden(hidden: Boolean) {
        nativeHandle.setHidden(hidden)
    }

    override fun isHidden(): Boolean {
        val result = nativeHandle.isHidden()
        return result
    }
}

private class KMRenderObjectInterfacePlatformProxy(private val delegate: KMRenderObjectInterface) : NSObject(), MapCoreSharedModule.MCRenderObjectInterfaceProtocol
{

    override fun getGraphicsObject(): MapCoreSharedModule.MCGraphicsObjectInterfaceProtocol? {
        val result = delegate.getGraphicsObject()
        return result.asPlatform()
    }

    override fun hasCustomModelMatrix(): Boolean {
        val result = delegate.hasCustomModelMatrix()
        return result
    }

    override fun isScreenSpaceCoords(): Boolean {
        val result = delegate.isScreenSpaceCoords()
        return result
    }

    override fun getCustomModelMatrix(): List<*> {
        val result = delegate.getCustomModelMatrix()
        return ArrayList(result.map { platform.Foundation.NSNumber(float = it) })
    }

    override fun setHidden(hidden: Boolean) {
        delegate.setHidden(hidden)
    }

    override fun isHidden(): Boolean {
        val result = delegate.isHidden()
        return result
    }
}

internal fun KMRenderObjectInterface.asPlatform(): MapCoreSharedModule.MCRenderObjectInterfaceProtocol = when (this) {
    is KMRenderObjectInterfacePlatformWrapper -> this.nativeHandle
    else -> KMRenderObjectInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCRenderObjectInterfaceProtocol.asKmp(): KMRenderObjectInterface = KMRenderObjectInterfacePlatformWrapper(this)
