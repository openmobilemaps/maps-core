// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from graphicsobjects.djinni

@file:Suppress("RedundantCast", "RedundantCallOfConversionMethod", "USELESS_CAST")

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMComputeObjectInterface", exact = true)
actual interface KMComputeObjectInterface
{

    actual fun compute(context: KMRenderingContextInterface, vpMatrix: Long, origin: KMVec3D, screenPixelAsRealMeterFactor: Double)
}

private class KMComputeObjectInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCComputeObjectInterfaceProtocol) : KMComputeObjectInterface
{

    override fun compute(context: KMRenderingContextInterface, vpMatrix: Long, origin: KMVec3D, screenPixelAsRealMeterFactor: Double) {
        nativeHandle.compute(context.asPlatform(), vpMatrix, origin.asPlatform(), screenPixelAsRealMeterFactor)
    }
}

private class KMComputeObjectInterfacePlatformProxy(private val delegate: KMComputeObjectInterface) : NSObject(), MapCoreSharedModule.MCComputeObjectInterfaceProtocol
{

    override fun compute(context: MapCoreSharedModule.MCRenderingContextInterfaceProtocol?, vpMatrix: Long, origin: MapCoreSharedModule.MCVec3D, screenPixelAsRealMeterFactor: Double) {
        delegate.compute(requireNotNull((context as MapCoreSharedModule.MCRenderingContextInterfaceProtocol)).asKmp(), vpMatrix, (origin as MapCoreSharedModule.MCVec3D).asKmp(), screenPixelAsRealMeterFactor)
    }
}

internal fun KMComputeObjectInterface.asPlatform(): MapCoreSharedModule.MCComputeObjectInterfaceProtocol = when (this) {
    is KMComputeObjectInterfacePlatformWrapper -> this.nativeHandle
    else -> KMComputeObjectInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCComputeObjectInterfaceProtocol.asKmp(): KMComputeObjectInterface = KMComputeObjectInterfacePlatformWrapper(this)
