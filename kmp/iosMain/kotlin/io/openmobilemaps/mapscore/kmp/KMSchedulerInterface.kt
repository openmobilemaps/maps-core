// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from task_scheduler.djinni

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMSchedulerInterface", exact = true)
actual interface KMSchedulerInterface
{

    actual fun addTask(task: KMTaskInterface)

    actual fun addTasks(tasks: ArrayList<KMTaskInterface>)

    actual fun removeTask(id: String)

    actual fun clear()

    actual fun pause()

    actual fun resume()

    actual fun destroy()

    actual fun hasSeparateGraphicsInvocation(): Boolean

    actual fun runGraphicsTasks(): Boolean

    actual fun setSchedulerGraphicsTaskCallbacks(callbacks: KMSchedulerGraphicsTaskCallbacks)
}

private class KMSchedulerInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCSchedulerInterfaceProtocol) : KMSchedulerInterface
{

    override fun addTask(task: KMTaskInterface) {
        nativeHandle.addTask(task.asPlatform())
    }

    override fun addTasks(tasks: ArrayList<KMTaskInterface>) {
        nativeHandle.addTasks(ArrayList(tasks.map { it.asPlatform() }))
    }

    override fun removeTask(id: String) {
        nativeHandle.removeTask(id)
    }

    override fun clear() {
        nativeHandle.clear()
    }

    override fun pause() {
        nativeHandle.pause()
    }

    override fun resume() {
        nativeHandle.resume()
    }

    override fun destroy() {
        nativeHandle.destroy()
    }

    override fun hasSeparateGraphicsInvocation(): Boolean {
        val result = nativeHandle.hasSeparateGraphicsInvocation()
        return result
    }

    override fun runGraphicsTasks(): Boolean {
        val result = nativeHandle.runGraphicsTasks()
        return result
    }

    override fun setSchedulerGraphicsTaskCallbacks(callbacks: KMSchedulerGraphicsTaskCallbacks) {
        nativeHandle.setSchedulerGraphicsTaskCallbacks(callbacks.asPlatform())
    }
}

private class KMSchedulerInterfacePlatformProxy(private val delegate: KMSchedulerInterface) : NSObject(), MapCoreSharedModule.MCSchedulerInterfaceProtocol
{

    override fun addTask(task: MapCoreSharedModule.MCTaskInterfaceProtocol?) {
        delegate.addTask(requireNotNull((task as MapCoreSharedModule.MCTaskInterfaceProtocol)).asKmp())
    }

    override fun addTasks(tasks: List<*>) {
        delegate.addTasks(ArrayList(((tasks as? List<*>)?.map { requireNotNull((it as MapCoreSharedModule.MCTaskInterfaceProtocol)).asKmp() } ?: (0 until (tasks as platform.Foundation.NSArray).count.toInt()).map { idx -> requireNotNull(((tasks as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCTaskInterfaceProtocol)).asKmp() })))
    }

    override fun removeTask(id: String) {
        delegate.removeTask(id)
    }

    override fun clear() {
        delegate.clear()
    }

    override fun pause() {
        delegate.pause()
    }

    override fun resume() {
        delegate.resume()
    }

    override fun destroy() {
        delegate.destroy()
    }

    override fun hasSeparateGraphicsInvocation(): Boolean {
        val result = delegate.hasSeparateGraphicsInvocation()
        return result
    }

    override fun runGraphicsTasks(): Boolean {
        val result = delegate.runGraphicsTasks()
        return result
    }

    override fun setSchedulerGraphicsTaskCallbacks(callbacks: MapCoreSharedModule.MCSchedulerGraphicsTaskCallbacks?) {
        delegate.setSchedulerGraphicsTaskCallbacks(requireNotNull((callbacks as MapCoreSharedModule.MCSchedulerGraphicsTaskCallbacks)).asKmp())
    }
}

internal fun KMSchedulerInterface.asPlatform(): MapCoreSharedModule.MCSchedulerInterfaceProtocol = when (this) {
    is KMSchedulerInterfacePlatformWrapper -> this.nativeHandle
    else -> KMSchedulerInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCSchedulerInterfaceProtocol.asKmp(): KMSchedulerInterface = KMSchedulerInterfacePlatformWrapper(this)
