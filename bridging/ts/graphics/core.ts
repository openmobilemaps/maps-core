// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

import type { Color, RectI, Vec2I, Vec3D } from "@djinni/maps-core/graphics/common/common"
import type { ComputeObjectInterface, GraphicsObjectFactoryInterface, GraphicsObjectInterface, MaskingObjectInterface, TextureFilterType } from "@djinni/maps-core/graphics/objects/graphicsobjects"
import type { ShaderFactoryInterface } from "@djinni/maps-core/graphics/shader/shader"

export interface SceneInterface {
    setCallbackHandler(callbackInterface: SceneCallbackInterface): void;
    setCamera(camera: CameraInterface): void;
    getCamera(): CameraInterface;
    getRenderer(): RendererInterface;
    getRenderingContext(): RenderingContextInterface;
    getGraphicsFactory(): GraphicsObjectFactoryInterface;
    getShaderFactory(): ShaderFactoryInterface;
    prepare(): void;
    drawFrame(target: RenderTargetInterface | undefined): void;
    compute(): void;
    clear(): void;
    invalidate(): void;
}
export interface SceneInterface_statics {
    create(graphicsFactory: GraphicsObjectFactoryInterface, shaderFactory: ShaderFactoryInterface, renderingContext: RenderingContextInterface): SceneInterface;
    createWithOpenGl(): SceneInterface;
}

export interface SceneCallbackInterface {
    invalidate(): void;
}

export interface RenderingContextInterface {
    /** Ensure calling on graphics thread */
    onSurfaceCreated(): void;
    /** Ensure calling on graphics thread */
    setViewportSize(size: Vec2I): void;
    getViewportSize(): Vec2I;
    setBackgroundColor(color: Color): void;
    setCulling(mode: RenderingCullMode): void;
    setupDrawFrame(vpMatrix: bigint, origin: Vec3D, screenPixelAsRealMeterFactor: number): void;
    preRenderStencilMask(): void;
    postRenderStencilMask(): void;
    /** optional rectangle, remove scissoring when not set */
    applyScissorRect(scissorRect: RectI | undefined): void;
    asOpenGlRenderingContext(): OpenGlRenderingContextInterface | undefined;
}

export interface OpenGlRenderingContextInterface {
    resume(): void;
    pause(): void;
    getCreateRenderTarget(name: string, textureFilter: TextureFilterType, clearColor: Color, usesDepthStencil: boolean): OpenGlRenderTargetInterface;
    deleteRenderTarget(name: string): void;
    getRenderTargets(): Array<OpenGlRenderTargetInterface>;
    getProgram(name: string): number;
    storeProgram(name: string, program: number): void;
    getAspectRatio(): number;
    getDeltaTimeMs(): bigint;
}

export enum RenderingCullMode {
    FRONT = 0,
    BACK = 1,
    NONE = 2,
}

export interface RenderObjectInterface {
    getGraphicsObject(): GraphicsObjectInterface;
    hasCustomModelMatrix(): boolean;
    isScreenSpaceCoords(): boolean;
    getCustomModelMatrix(): Array<number>;
    setHidden(hidden: boolean): void;
    isHidden(): boolean;
}

export interface RenderTargetInterface {
    asGlRenderTargetInterface(): OpenGlRenderTargetInterface | undefined;
}

export interface OpenGlRenderTargetInterface {
    asRenderTargetInterface(): RenderTargetInterface;
    setup(size: Vec2I): void;
    clear(): void;
    bindFramebuffer(renderingContext: RenderingContextInterface): void;
    unbindFramebuffer(): void;
    getTextureId(): number;
}

export interface RenderPassInterface {
    getRenderObjects(): Array<RenderObjectInterface>;
    addRenderObject(renderObject: RenderObjectInterface): void;
    getRenderPassConfig(): RenderPassConfig;
    getMaskingObject(): MaskingObjectInterface | undefined;
    getScissoringRect(): RectI | undefined;
}

export interface ComputePassInterface {
    getComputeObjects(): Array<ComputeObjectInterface>;
}

export interface /*record*/ RenderPassConfig {
    renderPassIndex: number;
    isPassMasked: boolean;
    renderTarget?: RenderTargetInterface;
}

export interface RendererInterface {
    addToRenderQueue(renderPass: RenderPassInterface): void;
    addToComputeQueue(computePass: ComputePassInterface): void;
    /** Ensure calling on graphics thread */
    drawFrame(renderingContext: RenderingContextInterface, camera: CameraInterface, target: RenderTargetInterface | undefined): void;
    /** Ensure calling on graphics thread */
    compute(renderingContext: RenderingContextInterface, camera: CameraInterface): void;
}

export interface CameraInterface {
    getVpMatrix(): Array<number>;
    getScalingFactor(): number;
    getOrigin(): Vec3D;
    viewportSizeChanged(): void;
}

export interface Core_statics {
    SceneInterface: SceneInterface_statics;
}
