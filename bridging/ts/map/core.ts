// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

import type { Color, RectI, Vec2F, Vec2I, Vec3D } from "@djinni/maps-core/graphics/common/common"
import type { SchedulerInterface } from "@djinni/maps-core/map/scheduling/task_scheduler"
import type { CameraInterface, ComputePassInterface, RenderPassInterface, RenderTargetInterface, RenderingContextInterface } from "@djinni/maps-core/graphics/core"
import type { Coord, CoordinateConversionHelperInterface, MapCoordinateSystem, RectCoord } from "@djinni/maps-core/map/coordinates/coordinate_system"
import type { GraphicsObjectFactoryInterface, MaskingObjectInterface } from "@djinni/maps-core/graphics/objects/graphicsobjects"
import type { ErrorManager, PerformanceLoggerInterface } from "@djinni/maps-core/map/map_helpers"
import type { MapCameraListenerInterface } from "@djinni/maps-core/map/camera/camera"
import type { TouchHandlerInterface } from "@djinni/maps-core/map/controls/touch_handler"
import type { ShaderFactoryInterface } from "@djinni/maps-core/graphics/shader/shader"

export interface MapInterface {
    setCallbackHandler(callbackInterface: MapCallbackInterface | undefined): void;
    getGraphicsObjectFactory(): GraphicsObjectFactoryInterface;
    getShaderFactory(): ShaderFactoryInterface;
    getScheduler(): SchedulerInterface;
    getRenderingContext(): RenderingContextInterface;
    getMapConfig(): MapConfig;
    getCoordinateConverterHelper(): CoordinateConversionHelperInterface;
    setCamera(camera: MapCameraInterface): void;
    getCamera(): MapCameraInterface;
    setTouchHandler(touchHandler: TouchHandlerInterface): void;
    getTouchHandler(): TouchHandlerInterface;
    setPerformanceLoggers(performanceLoggers: Array<PerformanceLoggerInterface>): void;
    getPerformanceLoggers(): Array<PerformanceLoggerInterface>;
    getLayers(): Array<LayerInterface>;
    getLayersIndexed(): Array<IndexedLayerInterface>;
    addLayer(layer: LayerInterface): void;
    insertLayerAt(layer: LayerInterface, atIndex: number): void;
    insertLayerAbove(layer: LayerInterface, above: LayerInterface): void;
    insertLayerBelow(layer: LayerInterface, below: LayerInterface): void;
    removeLayer(layer: LayerInterface): void;
    setViewportSize(size: Vec2I): void;
    setBackgroundColor(color: Color): void;
    is3d(): boolean;
    invalidate(): void;
    resetIsInvalidated(): void;
    prepare(): void;
    getNeedsCompute(): boolean;
    drawOffscreenFrame(target: RenderTargetInterface): void;
    /** Must be called on the rendering thread! */
    drawFrame(): void;
    /** Must be called on the rendering thread! */
    compute(): void;
    /** Must be called on the rendering thread! */
    resume(): void;
    /** Must be called on the rendering thread! */
    pause(): void;
    destroy(): void;
    /**
     * changes bounds to bounds, checks all layers for readiness, and updates callbacks, timeout in
     * seconds, always draw the frame when state is updated in the ready callbacks
     */
    drawReadyFrame(bounds: RectCoord, paddingPc: number, timeout: number, callbacks: MapReadyCallbackInterface): void;
    forceReload(): void;
}
export interface MapInterface_statics {
    create(graphicsFactory: GraphicsObjectFactoryInterface, shaderFactory: ShaderFactoryInterface, renderingContext: RenderingContextInterface, mapConfig: MapConfig, scheduler: SchedulerInterface, pixelDensity: number, is3D: boolean): MapInterface;
    createWithOpenGl(mapConfig: MapConfig, scheduler: SchedulerInterface, pixelDensity: number, is3D: boolean): MapInterface;
}

export interface IndexedLayerInterface {
    getLayerInterface(): LayerInterface;
    getIndex(): number;
}

export interface MapCallbackInterface {
    invalidate(): void;
    onMapResumed(): void;
}

/** Web only */
export interface WebMapCallbackInterface {
    getAndResetInvalid(): boolean;
    asCallbackInterface(): MapCallbackInterface;
}
export interface WebMapCallbackInterface_statics {
    create(): WebMapCallbackInterface;
}

export interface MapReadyCallbackInterface {
    stateDidUpdate(state: LayerReadyState): void;
}

export enum LayerReadyState {
    READY = 0,
    NOT_READY = 1,
    ERROR = 2,
    TIMEOUT_ERROR = 3,
}

export interface /*record*/ MapConfig {
    mapCoordinateSystem: MapCoordinateSystem;
}

export interface LayerInterface {
    setMaskingObject(maskingObject: MaskingObjectInterface | undefined): void;
    update(): void;
    buildRenderPasses(): Array<RenderPassInterface>;
    buildComputePasses(): Array<ComputePassInterface>;
    onAdded(mapInterface: MapInterface, layerIndex: number): void;
    onRemoved(): void;
    pause(): void;
    resume(): void;
    hide(): void;
    show(): void;
    setAlpha(alpha: number): void;
    getAlpha(): number;
    /** optional rectangle, remove scissoring when not set */
    setScissorRect(scissorRect: RectI | undefined): void;
    isReadyToRenderOffscreen(): LayerReadyState;
    enableAnimations(enabled: boolean): void;
    setErrorManager(errorManager: ErrorManager): void;
    forceReload(): void;
    setPrimaryRenderTarget(target: RenderTargetInterface | undefined): void;
}

export interface MapCameraInterface {
    freeze(freeze: boolean): void;
    moveToCenterPositionZoom(centerPosition: Coord, zoom: number, animated: boolean): void;
    moveToCenterPosition(centerPosition: Coord, animated: boolean): void;
    moveToBoundingBox(boundingBox: RectCoord, paddingPc: number, animated: boolean, minZoom: number | undefined, maxZoom: number | undefined): void;
    getCenterPosition(): Coord;
    setZoom(zoom: number, animated: boolean): void;
    getZoom(): number;
    setRotation(angle: number, animated: boolean): void;
    getRotation(): number;
    setMinZoom(minZoom: number): void;
    setMaxZoom(maxZoom: number): void;
    getMinZoom(): number;
    getMaxZoom(): number;
    setBounds(bounds: RectCoord): void;
    getBounds(): RectCoord;
    isInBounds(coords: Coord): boolean;
    setPaddingLeft(padding: number): void;
    setPaddingRight(padding: number): void;
    setPaddingTop(padding: number): void;
    setPaddingBottom(padding: number): void;
    getVisibleRect(): RectCoord;
    getPaddingAdjustedVisibleRect(): RectCoord;
    getScreenDensityPpi(): number;
    /** this method is called just before the update methods on all layers */
    update(): void;
    getInvariantModelMatrix(coordinate: Coord, scaleInvariant: boolean, rotationInvariant: boolean): Array<number>;
    addListener(listener: MapCameraListenerInterface): void;
    removeListener(listener: MapCameraListenerInterface): void;
    notifyListenerBoundsChange(): void;
    coordFromScreenPosition(posScreen: Vec2F): Coord;
    coordFromScreenPositionZoom(posScreen: Vec2F, zoom: number): Coord;
    screenPosFromCoord(coord: Coord): Vec2F;
    screenPosFromCoordZoom(coord: Coord, zoom: number): Vec2F;
    mapUnitsFromPixels(distancePx: number): number;
    getScalingFactor(): number;
    /** padding in percentage, where 1.0 = rect is half of full width and height */
    coordIsVisibleOnScreen(coord: Coord, paddingPc: number): boolean;
    setRotationEnabled(enabled: boolean): void;
    setSnapToNorthEnabled(enabled: boolean): void;
    setBoundsRestrictWholeVisibleRect(enabled: boolean): void;
    asCameraInterface(): CameraInterface;
    getLastVpMatrixD(): Array<number> | undefined;
    getLastVpMatrix(): Array<number> | undefined;
    getLastInverseVpMatrix(): Array<number> | undefined;
    getLastVpMatrixViewBounds(): RectCoord | undefined;
    getLastVpMatrixRotation(): number | undefined;
    getLastVpMatrixZoom(): number | undefined;
    getLastCameraPosition(): Vec3D | undefined;
    asMapCamera3d(): MapCamera3dInterface | undefined;
}
export interface MapCameraInterface_statics {
    create(mapInterface: MapInterface, screenDensityPpi: number, is3D: boolean): MapCameraInterface;
}

export interface MapCamera3dInterface {
    getCameraConfig(): Camera3dConfig;
    setCameraConfig(config: Camera3dConfig, durationSeconds: number | undefined, targetZoom: number | undefined, targetCoordinate: Coord | undefined): void;
}

export interface /*record*/ CameraInterpolation {
    stops: Array<CameraInterpolationValue>;
}

export interface /*record*/ CameraInterpolationValue {
    /** between 0 and 1 */
    stop: number;
    value: number;
}

export interface /*record*/ Camera3dConfig {
    key: string;
    allowUserInteraction: boolean;
    rotationSpeed?: number;
    animationDurationMs: number;
    minZoom: number;
    maxZoom: number;
    pitchInterpolationValues: CameraInterpolation;
    /** vertical camera displacement in padding-reduced viewport in [-1.0, 1.0] */
    verticalDisplacementInterpolationValues: CameraInterpolation;
}

export interface Camera3dConfigFactory {
}
export interface Camera3dConfigFactory_statics {
    getBasicConfig(): Camera3dConfig;
    getRestorConfig(): Camera3dConfig;
}

export interface Core_statics {
    MapInterface: MapInterface_statics;
    WebMapCallbackInterface: WebMapCallbackInterface_statics;
    MapCameraInterface: MapCameraInterface_statics;
    Camera3dConfigFactory: Camera3dConfigFactory_statics;
}
