// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from tiled_vector_layer.djinni

@file:Suppress("RedundantCast", "RedundantCallOfConversionMethod", "USELESS_CAST")

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMTiled2dMapVectorLayerSelectionCallbackInterface", exact = true)
actual interface KMTiled2dMapVectorLayerSelectionCallbackInterface
{

    actual fun didSelectFeature(featureInfo: KMVectorLayerFeatureInfo, layerIdentifier: String, coord: KMCoord): Boolean

    actual fun didMultiSelectLayerFeatures(featureInfos: ArrayList<KMVectorLayerFeatureInfo>, layerIdentifier: String, coord: KMCoord): Boolean

    actual fun didClickBackgroundConfirmed(coord: KMCoord): Boolean
}

private class KMTiled2dMapVectorLayerSelectionCallbackInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCTiled2dMapVectorLayerSelectionCallbackInterfaceProtocol) : KMTiled2dMapVectorLayerSelectionCallbackInterface
{

    override fun didSelectFeature(featureInfo: KMVectorLayerFeatureInfo, layerIdentifier: String, coord: KMCoord): Boolean {
        val result = nativeHandle.didSelectFeature(featureInfo.asPlatform(), layerIdentifier, coord.asPlatform())
        return result
    }

    override fun didMultiSelectLayerFeatures(featureInfos: ArrayList<KMVectorLayerFeatureInfo>, layerIdentifier: String, coord: KMCoord): Boolean {
        val result = nativeHandle.didMultiSelectLayerFeatures(ArrayList(featureInfos.map { it.asPlatform() }), layerIdentifier, coord.asPlatform())
        return result
    }

    override fun didClickBackgroundConfirmed(coord: KMCoord): Boolean {
        val result = nativeHandle.didClickBackgroundConfirmed(coord.asPlatform())
        return result
    }
}

private class KMTiled2dMapVectorLayerSelectionCallbackInterfacePlatformProxy(private val delegate: KMTiled2dMapVectorLayerSelectionCallbackInterface) : NSObject(), MapCoreSharedModule.MCTiled2dMapVectorLayerSelectionCallbackInterfaceProtocol
{

    override fun didSelectFeature(featureInfo: MapCoreSharedModule.MCVectorLayerFeatureInfo, layerIdentifier: String, coord: MapCoreSharedModule.MCCoord): Boolean {
        val result = delegate.didSelectFeature((featureInfo as MapCoreSharedModule.MCVectorLayerFeatureInfo).asKmp(), layerIdentifier, (coord as MapCoreSharedModule.MCCoord).asKmp())
        return result
    }

    override fun didMultiSelectLayerFeatures(featureInfos: List<*>, layerIdentifier: String, coord: MapCoreSharedModule.MCCoord): Boolean {
        val result = delegate.didMultiSelectLayerFeatures(ArrayList(((featureInfos as? List<*>)?.map { (it as MapCoreSharedModule.MCVectorLayerFeatureInfo).asKmp() } ?: (0 until (featureInfos as platform.Foundation.NSArray).count.toInt()).map { idx -> ((featureInfos as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCVectorLayerFeatureInfo).asKmp() })), layerIdentifier, (coord as MapCoreSharedModule.MCCoord).asKmp())
        return result
    }

    override fun didClickBackgroundConfirmed(coord: MapCoreSharedModule.MCCoord): Boolean {
        val result = delegate.didClickBackgroundConfirmed((coord as MapCoreSharedModule.MCCoord).asKmp())
        return result
    }
}

internal fun KMTiled2dMapVectorLayerSelectionCallbackInterface.asPlatform(): MapCoreSharedModule.MCTiled2dMapVectorLayerSelectionCallbackInterfaceProtocol = when (this) {
    is KMTiled2dMapVectorLayerSelectionCallbackInterfacePlatformWrapper -> this.nativeHandle
    else -> KMTiled2dMapVectorLayerSelectionCallbackInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCTiled2dMapVectorLayerSelectionCallbackInterfaceProtocol.asKmp(): KMTiled2dMapVectorLayerSelectionCallbackInterface = KMTiled2dMapVectorLayerSelectionCallbackInterfacePlatformWrapper(this)
