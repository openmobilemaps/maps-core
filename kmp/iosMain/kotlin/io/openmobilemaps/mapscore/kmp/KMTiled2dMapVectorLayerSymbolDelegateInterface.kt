// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from tiled_vector_layer.djinni

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMTiled2dMapVectorLayerSymbolDelegateInterface", exact = true)
actual interface KMTiled2dMapVectorLayerSymbolDelegateInterface
{

    actual fun getCustomAssetsFor(featureInfos: ArrayList<KMVectorLayerFeatureInfo>, layerIdentifier: String): ArrayList<KMTiled2dMapVectorAssetInfo>
}

private class KMTiled2dMapVectorLayerSymbolDelegateInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCTiled2dMapVectorLayerSymbolDelegateInterfaceProtocol) : KMTiled2dMapVectorLayerSymbolDelegateInterface
{

    override fun getCustomAssetsFor(featureInfos: ArrayList<KMVectorLayerFeatureInfo>, layerIdentifier: String): ArrayList<KMTiled2dMapVectorAssetInfo> {
        val result = nativeHandle.getCustomAssetsFor(ArrayList(featureInfos.map { it.asPlatform() }), layerIdentifier)
        return ArrayList(((result as? List<*>)?.map { (it as MapCoreSharedModule.MCTiled2dMapVectorAssetInfo).asKmp() } ?: (0 until (result as platform.Foundation.NSArray).count.toInt()).map { idx -> ((result as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCTiled2dMapVectorAssetInfo).asKmp() }))
    }
}

private class KMTiled2dMapVectorLayerSymbolDelegateInterfacePlatformProxy(private val delegate: KMTiled2dMapVectorLayerSymbolDelegateInterface) : NSObject(), MapCoreSharedModule.MCTiled2dMapVectorLayerSymbolDelegateInterfaceProtocol
{

    override fun getCustomAssetsFor(featureInfos: List<*>, layerIdentifier: String): List<*> {
        val result = delegate.getCustomAssetsFor(ArrayList(((featureInfos as? List<*>)?.map { (it as MapCoreSharedModule.MCVectorLayerFeatureInfo).asKmp() } ?: (0 until (featureInfos as platform.Foundation.NSArray).count.toInt()).map { idx -> ((featureInfos as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCVectorLayerFeatureInfo).asKmp() })), layerIdentifier)
        return ArrayList(result.map { it.asPlatform() })
    }
}

internal fun KMTiled2dMapVectorLayerSymbolDelegateInterface.asPlatform(): MapCoreSharedModule.MCTiled2dMapVectorLayerSymbolDelegateInterfaceProtocol = when (this) {
    is KMTiled2dMapVectorLayerSymbolDelegateInterfacePlatformWrapper -> this.nativeHandle
    else -> KMTiled2dMapVectorLayerSymbolDelegateInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCTiled2dMapVectorLayerSymbolDelegateInterfaceProtocol.asKmp(): KMTiled2dMapVectorLayerSymbolDelegateInterface = KMTiled2dMapVectorLayerSymbolDelegateInterfacePlatformWrapper(this)
