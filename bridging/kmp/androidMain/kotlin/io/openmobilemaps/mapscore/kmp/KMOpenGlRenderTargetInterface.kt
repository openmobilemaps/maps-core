// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from core.djinni

package io.openmobilemaps.mapscore.kmp

import io.openmobilemaps.mapscore.shared.graphics.OpenGlRenderTargetInterface

actual interface KMOpenGlRenderTargetInterface
{

    actual fun asRenderTargetInterface(): KMRenderTargetInterface

    actual fun setup(size: KMVec2I)

    actual fun clear()

    actual fun bindFramebuffer(renderingContext: KMRenderingContextInterface)

    actual fun unbindFramebuffer()

    actual fun getTextureId(): Int
}

private class KMOpenGlRenderTargetInterfacePlatformWrapper(internal val nativeHandle: OpenGlRenderTargetInterface) : KMOpenGlRenderTargetInterface
{

    override fun asRenderTargetInterface(): KMRenderTargetInterface {
        val result = nativeHandle.asRenderTargetInterface()
        return (result as io.openmobilemaps.mapscore.shared.graphics.RenderTargetInterface).asKmp()
    }

    override fun setup(size: KMVec2I) {
        nativeHandle.setup(size.asPlatform())
    }

    override fun clear() {
        nativeHandle.clear()
    }

    override fun bindFramebuffer(renderingContext: KMRenderingContextInterface) {
        nativeHandle.bindFramebuffer(renderingContext.asPlatform())
    }

    override fun unbindFramebuffer() {
        nativeHandle.unbindFramebuffer()
    }

    override fun getTextureId(): Int {
        val result = nativeHandle.getTextureId()
        return result
    }
}

private class KMOpenGlRenderTargetInterfacePlatformProxy(private val delegate: KMOpenGlRenderTargetInterface) : OpenGlRenderTargetInterface()
{

    override fun asRenderTargetInterface(): io.openmobilemaps.mapscore.shared.graphics.RenderTargetInterface {
        val result = delegate.asRenderTargetInterface()
        return result.asPlatform()
    }

    override fun setup(size: io.openmobilemaps.mapscore.shared.graphics.common.Vec2I) {
        delegate.setup((size as io.openmobilemaps.mapscore.shared.graphics.common.Vec2I).asKmp())
    }

    override fun clear() {
        delegate.clear()
    }

    override fun bindFramebuffer(renderingContext: io.openmobilemaps.mapscore.shared.graphics.RenderingContextInterface) {
        delegate.bindFramebuffer((renderingContext as io.openmobilemaps.mapscore.shared.graphics.RenderingContextInterface).asKmp())
    }

    override fun unbindFramebuffer() {
        delegate.unbindFramebuffer()
    }

    override fun getTextureId(): Int {
        val result = delegate.getTextureId()
        return result
    }
}

internal fun KMOpenGlRenderTargetInterface.asPlatform(): OpenGlRenderTargetInterface = when (this) {
    is KMOpenGlRenderTargetInterfacePlatformWrapper -> this.nativeHandle
    else -> KMOpenGlRenderTargetInterfacePlatformProxy(this)
}
internal fun OpenGlRenderTargetInterface.asKmp(): KMOpenGlRenderTargetInterface = KMOpenGlRenderTargetInterfacePlatformWrapper(this)
