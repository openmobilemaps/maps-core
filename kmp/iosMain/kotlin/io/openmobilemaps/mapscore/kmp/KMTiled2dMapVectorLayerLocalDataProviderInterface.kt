// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from tiled_vector_layer.djinni

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMTiled2dMapVectorLayerLocalDataProviderInterface", exact = true)
actual interface KMTiled2dMapVectorLayerLocalDataProviderInterface
{

    actual fun getStyleJson(): String?

    actual fun loadSpriteAsync(spriteId: String, url: String, scale: Int): KMFuture<KMTextureLoaderResult>

    actual fun loadSpriteJsonAsync(spriteId: String, url: String, scale: Int): KMFuture<KMDataLoaderResult>

    actual fun loadGeojson(sourceName: String, url: String): KMFuture<KMDataLoaderResult>
}

private class KMTiled2dMapVectorLayerLocalDataProviderInterfacePlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCTiled2dMapVectorLayerLocalDataProviderInterfaceProtocol) : KMTiled2dMapVectorLayerLocalDataProviderInterface
{

    override fun getStyleJson(): String? {
        val result = nativeHandle.getStyleJson()
        return result?.let { (it as String) }
    }

    override fun loadSpriteAsync(spriteId: String, url: String, scale: Int): KMFuture<KMTextureLoaderResult> {
        val result = nativeHandle.loadSpriteAsync(spriteId, url, scale)
        return (result as MapCoreSharedModule.DJFuture).asKmp()
    }

    override fun loadSpriteJsonAsync(spriteId: String, url: String, scale: Int): KMFuture<KMDataLoaderResult> {
        val result = nativeHandle.loadSpriteJsonAsync(spriteId, url, scale)
        return (result as MapCoreSharedModule.DJFuture).asKmp()
    }

    override fun loadGeojson(sourceName: String, url: String): KMFuture<KMDataLoaderResult> {
        val result = nativeHandle.loadGeojson(sourceName, url)
        return (result as MapCoreSharedModule.DJFuture).asKmp()
    }
}

private class KMTiled2dMapVectorLayerLocalDataProviderInterfacePlatformProxy(private val delegate: KMTiled2dMapVectorLayerLocalDataProviderInterface) : NSObject(), MapCoreSharedModule.MCTiled2dMapVectorLayerLocalDataProviderInterfaceProtocol
{

    override fun getStyleJson(): String? {
        val result = delegate.getStyleJson()
        return result?.let { it }
    }

    override fun loadSpriteAsync(spriteId: String, url: String, scale: Int): MapCoreSharedModule.DJFuture {
        val result = delegate.loadSpriteAsync(spriteId, url, scale)
        return result.asPlatform()
    }

    override fun loadSpriteJsonAsync(spriteId: String, url: String, scale: Int): MapCoreSharedModule.DJFuture {
        val result = delegate.loadSpriteJsonAsync(spriteId, url, scale)
        return result.asPlatform()
    }

    override fun loadGeojson(sourceName: String, url: String): MapCoreSharedModule.DJFuture {
        val result = delegate.loadGeojson(sourceName, url)
        return result.asPlatform()
    }
}

internal fun KMTiled2dMapVectorLayerLocalDataProviderInterface.asPlatform(): MapCoreSharedModule.MCTiled2dMapVectorLayerLocalDataProviderInterfaceProtocol = when (this) {
    is KMTiled2dMapVectorLayerLocalDataProviderInterfacePlatformWrapper -> this.nativeHandle
    else -> KMTiled2dMapVectorLayerLocalDataProviderInterfacePlatformProxy(this)
}
internal fun MapCoreSharedModule.MCTiled2dMapVectorLayerLocalDataProviderInterfaceProtocol.asKmp(): KMTiled2dMapVectorLayerLocalDataProviderInterface = KMTiled2dMapVectorLayerLocalDataProviderInterfacePlatformWrapper(this)
