// AUTOGENERATED FILE - DO NOT MODIFY!
// This file was generated by Djinni from tiled_layer.djinni

package io.openmobilemaps.mapscore.kmp

import kotlin.experimental.ExperimentalObjCName
import kotlin.native.ObjCName
import platform.darwin.NSObject

@OptIn(ExperimentalObjCName::class)
@ObjCName("KMTiled2dMapLayerConfig", exact = true)
actual interface KMTiled2dMapLayerConfig
{

    actual fun getCoordinateSystemIdentifier(): Int

    actual fun getTileUrl(x: Int, y: Int, t: Int, zoom: Int): String

    actual fun getZoomLevelInfos(): ArrayList<KMTiled2dMapZoomLevelInfo>

    actual fun getVirtualZoomLevelInfos(): ArrayList<KMTiled2dMapZoomLevelInfo>

    actual fun getZoomInfo(): KMTiled2dMapZoomInfo

    actual fun getLayerName(): String

    actual fun getVectorSettings(): KMTiled2dMapVectorSettings?

    actual fun getBounds(): KMRectCoord?
}

private class KMTiled2dMapLayerConfigPlatformWrapper(internal val nativeHandle: MapCoreSharedModule.MCTiled2dMapLayerConfigProtocol) : KMTiled2dMapLayerConfig
{

    override fun getCoordinateSystemIdentifier(): Int {
        val result = nativeHandle.getCoordinateSystemIdentifier()
        return result
    }

    override fun getTileUrl(x: Int, y: Int, t: Int, zoom: Int): String {
        val result = nativeHandle.getTileUrl(x, y, t, zoom)
        return result
    }

    override fun getZoomLevelInfos(): ArrayList<KMTiled2dMapZoomLevelInfo> {
        val result = nativeHandle.getZoomLevelInfos()
        return ArrayList(((result as? List<*>)?.map { (it as MapCoreSharedModule.MCTiled2dMapZoomLevelInfo).asKmp() } ?: (0 until (result as platform.Foundation.NSArray).count.toInt()).map { idx -> ((result as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCTiled2dMapZoomLevelInfo).asKmp() }))
    }

    override fun getVirtualZoomLevelInfos(): ArrayList<KMTiled2dMapZoomLevelInfo> {
        val result = nativeHandle.getVirtualZoomLevelInfos()
        return ArrayList(((result as? List<*>)?.map { (it as MapCoreSharedModule.MCTiled2dMapZoomLevelInfo).asKmp() } ?: (0 until (result as platform.Foundation.NSArray).count.toInt()).map { idx -> ((result as platform.Foundation.NSArray).objectAtIndex(idx.toULong()) as MapCoreSharedModule.MCTiled2dMapZoomLevelInfo).asKmp() }))
    }

    override fun getZoomInfo(): KMTiled2dMapZoomInfo {
        val result = nativeHandle.getZoomInfo()
        return (result as MapCoreSharedModule.MCTiled2dMapZoomInfo).asKmp()
    }

    override fun getLayerName(): String {
        val result = nativeHandle.getLayerName()
        return result
    }

    override fun getVectorSettings(): KMTiled2dMapVectorSettings? {
        val result = nativeHandle.getVectorSettings()
        return result?.let { (it as MapCoreSharedModule.MCTiled2dMapVectorSettings).asKmp() }
    }

    override fun getBounds(): KMRectCoord? {
        val result = nativeHandle.getBounds()
        return result?.let { (it as MapCoreSharedModule.MCRectCoord).asKmp() }
    }
}

private class KMTiled2dMapLayerConfigPlatformProxy(private val delegate: KMTiled2dMapLayerConfig) : NSObject(), MapCoreSharedModule.MCTiled2dMapLayerConfigProtocol
{

    override fun getCoordinateSystemIdentifier(): Int {
        val result = delegate.getCoordinateSystemIdentifier()
        return result
    }

    override fun getTileUrl(x: Int, y: Int, t: Int, zoom: Int): String {
        val result = delegate.getTileUrl(x, y, t, zoom)
        return result
    }

    override fun getZoomLevelInfos(): List<*> {
        val result = delegate.getZoomLevelInfos()
        return ArrayList(result.map { it.asPlatform() })
    }

    override fun getVirtualZoomLevelInfos(): List<*> {
        val result = delegate.getVirtualZoomLevelInfos()
        return ArrayList(result.map { it.asPlatform() })
    }

    override fun getZoomInfo(): MapCoreSharedModule.MCTiled2dMapZoomInfo {
        val result = delegate.getZoomInfo()
        return result.asPlatform()
    }

    override fun getLayerName(): String {
        val result = delegate.getLayerName()
        return result
    }

    override fun getVectorSettings(): MapCoreSharedModule.MCTiled2dMapVectorSettings? {
        val result = delegate.getVectorSettings()
        return result?.let { it.asPlatform() }
    }

    override fun getBounds(): MapCoreSharedModule.MCRectCoord? {
        val result = delegate.getBounds()
        return result?.let { it.asPlatform() }
    }
}

internal fun KMTiled2dMapLayerConfig.asPlatform(): MapCoreSharedModule.MCTiled2dMapLayerConfigProtocol = when (this) {
    is KMTiled2dMapLayerConfigPlatformWrapper -> this.nativeHandle
    else -> KMTiled2dMapLayerConfigPlatformProxy(this)
}
internal fun MapCoreSharedModule.MCTiled2dMapLayerConfigProtocol.asKmp(): KMTiled2dMapLayerConfig = KMTiled2dMapLayerConfigPlatformWrapper(this)
